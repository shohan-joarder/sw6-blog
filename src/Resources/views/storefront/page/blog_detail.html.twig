{% sw_extends '@Storefront/storefront/base.html.twig' %}
{% set defaultThmb = "https://placehold.co/1000x670" %}
{% block base_content %}
    {% block page_header %}
        <div class="bg-gray">
            <div class="blockquote">
                <h1 class="blog-page__title text-center">{{ blog.title }}</h1>
                <div class="card-header d-flex justify-content-center align-items-center ">
                    <p class="d-flex justify-content-center align-items-center">
                        {% if blog.postAuthor.media %}
                            <img src="{{ blog.postAuthor.media.url }}" alt="{{ blog.postAuthor.name }}" /> &nbsp;
                        {% endif %}
                        {{ blog.postAuthor.name }}
                    </p>
                    &nbsp;
                    <p>{{ blog.publishedAt|date('F j, Y') }}</p>
                </div>
            </div>
        </div>
    {% endblock %}

    {% if blog.media %}
        {% block page_image %}
            <div class="page-image mt-3">
                <img src="{{ blog.media.url }}" alt="{{ blog.title }}" class="w-100"/>
            </div>
        {% endblock %}
    {% endif %}

    {% block main_content %}
        <div class="main-content mt-3">
            <div class="row">
                <div class="col-3">
                    <h6 class=""> <u> Table of content </u></h6>
                </div>
                <div class="col-6">
                    {{ blog.description|raw }}
                </div>
                <div class="col-3">
                     {% if ( blog.categories | length >0)%}
                    <div class="category">
                        <h6 class=""><u> Categories </u></h6>
                            {% for category in blog.categories %}
                                <a type="button" class="btn btn-sm btn-outline-secondary" href="{{ path('frontend.blog', {'category': category.slug}) }}" >{{ category.name }}</a>
                            {% endfor %}
                    </div>
                    {% endif %}
                    {% if ( blog.relatedProducts | length >0)%}
                    <div class="relatedProduct">
                        <h6 class=""><u> Related Product </u></h6>
                            {% for product in blog.relatedProducts %}
                            <a href="{{ product.url }}">
                                <div class="card" >
                                    <img class="card-img-top img-fluid." src="{{product.media}}" alt="{{product.name}}">
                                    <div class="card-img-overlay">
                                        <h4 class="card-title">{{product.name}}</h4>
                                    </div>
                                </div>
                            </a>
                            {% endfor %}
                    </div>
                    {% endif %}

                </div>
            </div> 
        </div>
    {% endblock %}

    {% if(blog.relatedBlogs|length >0) %}
    {% block related_article %}
        <div class="related_article mt-3">
            <h5>Related Article</h5>
            <div class="related-article-item row">
                {% for relatedBlog in blog.relatedBlogs%}
                      {%  sw_include '@GdnGdnblog/storefront/page/inc/blog-item.html.twig' with{
                        blog:relatedBlog,
                        thumb:defaultThmb
                    } %}
                {% endfor%}
            </div>
        </div>
    {% endblock %}
    {% endif %}


{% endblock %}
